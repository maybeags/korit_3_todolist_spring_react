## 2025년 7월 10일 목요일 - Jupgo 앱 개발 진행 상황

### 최근 해결된 문제

- **채팅방 삭제 기능 오류 해결:**
    - **문제 현상:** '내 채팅' 목록에서 휴지통 아이콘을 클릭해도 채팅방이 삭제되지 않았습니다.
    - **원인 분석:** `ChatListScreen.tsx` 파일에서 `Alert` 모듈을 `react-native`로부터 import하지 않아, 삭제 확인창이 호출되지 않았고 이로 인해 후속 삭제 로직이 실행되지 않았습니다.
    - **해결 방안:** `ChatListScreen.tsx` 상단에 `import { Alert } from 'react-native';` 구문을 추가하여, 삭제 확인창이 정상적으로 작동하도록 수정했습니다. 백엔드의 삭제 API는 정상적으로 구현되어 있어 추가적인 수정은 필요하지 않았습니다.

### 현재 상태 요약
- **채팅:**
    - 상품 상세 페이지에서 판매자와 새로운 채팅을 시작하는 기능이 정상적으로 동작합니다.
    - 기존 채팅방에 참여하는 기능 또한 문제없이 동작합니다.
    - **'내 채팅' 목록에서 채팅방을 삭제하는 기능이 정상적으로 동작합니다.**
- **안정성:** 백엔드 코드의 타입 오류를 수정하고 프론트엔드 로직을 개선하여 코드 안정성을 높였습니다.

### 현재 분석 중인 문제

- **상품 이미지 표시 오류 (더미 데이터 관련):**
    - **문제 현상:** 상품 등록 페이지에서 이미지를 등록하면 상품 상세 페이지와 홈 스크린에 이미지가 정상적으로 표시됩니다. 기존 더미 데이터의 이미지 경로가 올바르지 않아 이미지가 표시되지 않는 것으로 파악됩니다.
    - **원인 분석:** 기존 더미 데이터에 포함된 이미지 경로가 실제 업로드된 이미지 파일과 일치하지 않거나, 경로 자체가 유효하지 않은 것으로 추정됩니다.
    - **해결 방안:** 더미 데이터를 수정하거나, 실제 이미지 업로드 로직을 통해 생성된 이미지 경로로 더미 데이터를 갱신해야 합니다.

---

## 2025년 7월 9일 수요일 - Jupgo 앱 개발 진행 상황

### 최근 해결된 문제

- **상품 수정 시 카테고리 초기화 문제 해결:**
    - **문제 현상:** 상품 수정 화면에서 카테고리가 초기화되어 다시 설정해야 하는 문제가 있었습니다.
    - **원인 분석:** 백엔드에서 상품 상세 정보를 조회할 때 `category_id`를 반환하지 않아 프론트엔드에서 초기값을 설정할 수 없었습니다.
    - **해결 방안:** `backend/src/repositories/productRepository.ts`의 `findProductById` 쿼리에 `p.category_id`를 포함하도록 수정하고, `Product` 인터페이스에 `category_id`를 추가하여 프론트엔드에서 카테고리 초기값을 올바르게 설정할 수 있도록 했습니다.
- **상품 상세 페이지에서 채팅 시작 시 무한 로딩 오류 해결:**
    - **문제 현상:** '내 채팅'에서는 기존 채팅방 입장이 정상적으로 동작했으나, 상품 상세 페이지에서 '판매자와 채팅하기'를 누르면 `ChatScreen`이 로딩 상태에서 멈추는 문제가 발생했습니다.
    - **원인 분석:**
        1.  **프론트엔드:** `ChatScreen`이 항상 `chatId`를 받아온다고 가정하고 구현되어, `chatId` 없이 진입하는 새로운 채팅 시작 시나리오를 처리하지 못했습니다. 이로 인해 메시지 로딩 함수가 조기에 종료되고, 로딩 상태가 해제되지 않아 무한 로딩이 발생했습니다.
        2.  **백엔드:** 채팅 내역을 가져오는 API가 채팅방이 없을 경우 `chatId`를 반환하지 않았고, 컨트롤러에서 `productId` 타입을 잘못 변환하여 타입 오류를 유발하는 잠재적 문제도 발견되었습니다.
    - **해결 방안:**
        1.  **백엔드 수정:** `getChatHistory` API(/api/chat/messages/:productId/:user1Id/:user2Id)를 수정하여, 채팅방이 없으면 새로 생성하고 항상 `{ chatId, messages }` 객체를 반환하도록 변경했습니다. 또한, `productId`가 `string` 타입으로 올바르게 처리되도록 타입 오류를 수정했습니다.
        2.  **프론트엔드 수정:** `ChatScreen.tsx`의 로직을 대폭 수정했습니다. 화면 진입 시 `chatId`의 유무를 판단하여, `chatId`가 없으면 수정된 백엔드 API를 호출해 `chatId`를 받아오도록 처리했습니다. 이를 통해 어떤 경로로 진입하든 채팅 화면이 정상적으로 로딩됩니다.

---

## 2025년 7월 8일 화요일 - Jupgo 앱 개발 진행 상황

### 현재 상태 요약
- **인프라:** 프론트엔드(React Native), 백엔드(Node.js/Express), 데이터베이스(MariaDB) 및 에뮬레이터 연동 환경 구축 완료.
- **인증:** 이메일/비밀번호 기반 회원가입 및 로그인 기능 구현 완료.
- **상품 관리:** 상품 CRUD, 이미지 업로드, 권한 검사 기능 완료.
- **프로필 관리:** 내 정보 조회 및 수정, 프로필 이미지 변경 기능 완료.
- **카테고리 관리:** 카테고리 등록 기능 구현 완료.
- **채팅:**
    - 상품 기반 1:1 채팅 기능 구현 완료.
    - **'내 채팅' 목록 기능 구현 완료:** 사용자가 참여중인 모든 채팅방 목록과 마지막 메시지, 상대방 정보를 표시합니다.
- **UI/UX 개선:**
    - **하단 탭 내비게이션:** `react-native-vector-icons`를 사용하여 홈, 채팅, 내 정보 탭에 아이콘을 적용했습니다.
    - **로딩 및 오류 처리:** 홈, 상품 상세, 내 정보 등 주요 화면에 데이터 로딩 중임을 나타내는 인디케이터와 오류 발생 시 메시지를 표시하는 로직을 추가하여 사용자 경험을 개선했습니다.

### 최근 해결된 문제
- **채팅 록 오류:** '내 채팅' 탭 진입 시 발생하던 오류를 해결하고, 사용자가 참여하고 있는 모든 채팅 목록이 정상적으로 표시되도록 백엔드 API와 프론트엔드 UI를 구현했습니다.
- **채팅 목록 프로필 사진 오류:** 채팅 목록에 상대방이 아닌 내 프로필 사진이 표시되던 문제를 백엔드 SQL 쿼리 수정을 통해 해결했습니다.
- **깨진 하단 탭 아이콘:** `react-native-vector-icons` 라이브러리를 설치 및 설정하여 하단 탭 내비게이션에 아이콘이 정상적으로 표시되도록 수정했습니다.

---
*이전 기록은 현재 상태와 맞지 않아 최신 내용으로 대체되었습니다.*