## 2025년 7월 8일 화요일 - Jupgo 앱 개발 진행 상황

### 현재 상태 요약
- **인프라:** 프론트엔드(React Native), 백엔드(Node.js/Express), 데이터베이스(MariaDB) 및 에뮬레이터 연동 환경 구축 완료.
- **인증:** 이메일/비밀번호 기반 회원가입 및 로그인 기능 구현 완료.
- **상품 관리:** 상품 CRUD, 이미지 업로드, 권한 검사 기능 완료.
- **프로필 관리:** 내 정보 조회 및 수정, 프로필 이미지 변경 기능 완료.
- **카테고리 관리:** 카테고리 등록 기능 구현 완료.
- **채팅:**
    - 상품 기반 1:1 채팅 기능 구현 완료.
    - **'내 채팅' 목록 기능 구현 완료:** 사용자가 참여중인 모든 채팅방 목록과 마지막 메시지, 상대방 정보를 표시합니다.
- **UI/UX 개선:**
    - **하단 탭 내비게이션:** `react-native-vector-icons`를 사용하여 홈, 채팅, 내 정보 탭에 아이콘을 적용했습니다.
    - **로딩 및 오류 처리:** 홈, 상품 상세, 내 정보 등 주요 화면에 데이터 로딩 중임을 나타내는 인디케이터와 오류 발생 시 메시지를 표시하는 로직을 추가하여 사용자 경험을 개선했습니다.

### 최근 해결된 문제
- **채팅 ���록 오류:** '내 채팅' 탭 진입 시 발생하던 오류를 해결하고, 사용자가 참여하고 있는 모든 채팅 목록이 정상적으로 표시되도록 백엔드 API와 프론트엔드 UI를 구현했습니다.
- **채팅 목록 프로필 사진 오류:** 채팅 목록에 상대방이 아닌 내 프로필 사진이 표시되던 문제를 백엔드 SQL 쿼리 수정을 통해 해결했습니다.
- **깨진 하단 탭 아이콘:** `react-native-vector-icons` 라이브러리를 설치 및 설정하여 하단 탭 내비게이션에 아이콘이 정상적으로 표시되도록 수정했습니다.

### 현재 분석 중인 문제
- **채팅 목록 로딩 오류 (JWT 불일치 여부 확인):**
    - **분석 결과:** 백엔드와 프론트엔드 간 별개의 JWT가 생성되거나 처리 방식에 불일치가 있다는 증거는 발견되지 않았습니다.
    - **백엔드 (authController.ts, authMiddleware.ts):** `process.env.JWT_SECRET`을 사용하여 `user.id`를 페이로드로 하는 JWT를 생성하고 1시간 만료 시간을 설정합니다. `Authorization: Bearer <token>` 형식으로 토큰을 검증합니다.
    - **프론트엔드 (SignInScreen.tsx, api.ts):** 로그인 시 백엔드로부터 토큰을 받아 `AsyncStorage`에 저장하고, 모든 API 요청 시 `Authorization: Bearer <token>` 헤더에 포함하여 전송합니다.
    - **결론:** JWT 생성 및 처리 방식은 일관적입니다. 문제의 원인은 `JWT_SECRET` 환경 변수 불일치, 토큰 만료, 네트워크 문제, 백엔드 채팅 목록 API 자체의 버그, 또는 프론트엔드에서 데이터를 올바르게 표시하지 못하는 문제일 가능성이 높습니다.

---
*이전 기록은 현재 상태와 맞지 않아 최신 내용으로 대체되었습니다.*